<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CikoTokSave â€“ TikTok Downloader</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root{--primary:#ff0050;--secondary:#25f4ee;--dark:#0a0a0a;--darker:#050505;--light:#ffffff;--gray:#888888;--glass:rgba(255,255,255,0.05);--glass-bd:rgba(255,255,255,0.1);--shadow:0 8px 32px rgba(0,0,0,0.3)}
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Inter',sans-serif}
        body{background:var(--darker);color:var(--light);min-height:100vh;overflow-x:hidden;position:relative}
        .bg-animation{position:fixed;width:100%;height:100%;top:0;left:0;z-index:-1;background:linear-gradient(45deg,#ff0050,#25f4ee,#ff0050);background-size:400% 400%;animation:gradient 15s ease infinite;opacity:.1}
        @keyframes gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
        header{padding:20px 0;text-align:center;background:var(--glass);backdrop-filter:blur(10px);border-bottom:1px solid var(--glass-bd)}
        .logo{font-size:2.5rem;font-weight:700;background:linear-gradient(45deg,var(--primary),var(--secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;display:inline-block;margin-bottom:10px}
        .tagline{color:var(--gray);font-size:1.1rem;font-weight:300}
        .container{max-width:1200px;margin:0 auto;padding:40px 20px}
        .glass-card{background:var(--glass);backdrop-filter:blur(20px);border:1px solid var(--glass-bd);border-radius:20px;padding:40px;box-shadow:var(--shadow);margin-bottom:30px;transition:all .3s ease}
        .glass-card:hover{transform:translateY(-5px);box-shadow:0 12px 40px rgba(0,0,0,.4)}
        .input-section{text-align:center;margin-bottom:30px}
        .input-wrapper{position:relative;max-width:600px;margin:0 auto}
        .url-input{width:100%;padding:18px 50px 18px 20px;background:rgba(255,255,255,.03);border:2px solid var(--glass-bd);border-radius:15px;color:var(--light);font-size:1.1rem;transition:all .3s ease}
        .url-input:focus{outline:none;border-color:var(--primary);background:rgba(255,255,255,.05);box-shadow:0 0 20px rgba(255,0,80,.2)}
        .paste-btn{position:absolute;right:15px;top:50%;transform:translateY(-50%);background:var(--primary);border:none;border-radius:10px;padding:8px 12px;color:#fff;cursor:pointer;font-size:.9rem;transition:all .3s ease}
        .paste-btn:hover{background:#ff3366;transform:translateY(-50%) scale(1.05)}
        .download-btn{background:linear-gradient(45deg,var(--primary),#ff3366);border:none;border-radius:15px;padding:15px 40px;color:#fff;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:10px;margin-top:20px}
        .download-btn:hover{transform:translateY(-3px);box-shadow:0 10px 30px rgba(255,0,80,.3)}
        .download-btn:disabled{opacity:.5;cursor:not-allowed;transform:none}
        .loading{display:none;text-align:center;margin:30px 0}
        .loading-spinner{width:50px;height:50px;border:3px solid rgba(255,255,255,.1);border-left:3px solid var(--primary);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 15px}
        @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
        .result{display:none;animation:fadeIn .5s ease}
        @keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
        .video-preview{background:rgba(255,255,255,.02);border-radius:15px;padding:20px;margin-bottom:20px}
        .video-thumb{width:100%;max-width:300px;border-radius:10px;margin:0 auto 15px;display:block}
        .video-title{font-size:1.2rem;font-weight:500;text-align:center;margin-bottom:20px;line-height:1.5}
        .download-options{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px}
        .option-btn{background:rgba(255,255,255,.05);border:1px solid var(--glass-bd);border-radius:12px;padding:15px 20px;color:var(--light);text-decoration:none;text-align:center;font-weight:500;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:10px}
        .option-btn:hover{background:rgba(255,255,255,.1);transform:translateY(-2px);border-color:var(--primary)}
        .hd-btn{background:linear-gradient(45deg,#ff0050,#ff3366);border:none}
        .sd-btn{background:linear-gradient(45deg,#25f4ee,#00d4ff);border:none;color:#000}
        .mp3-btn{background:linear-gradient(45deg,#7928ca,#ff0080);border:none}
        .features{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-top:40px}
        .feature-card{background:var(--glass);backdrop-filter:blur(10px);border:1px solid var(--glass-bd);border-radius:15px;padding:25px;text-align:center;transition:all .3s ease}
        .feature-card:hover{transform:translateY(-5px);border-color:var(--primary)}
        .feature-icon{font-size:2.5rem;margin-bottom:15px;background:linear-gradient(45deg,var(--primary),var(--secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .feature-title{font-size:1.2rem;font-weight:600;margin-bottom:10px}
        .feature-desc{color:var(--gray);font-size:.95rem;line-height:1.5}
        footer{text-align:center;padding:30px 20px;background:var(--glass);backdrop-filter:blur(10px);border-top:1px solid var(--glass-bd);margin-top:60px}
        .footer-links{margin-bottom:15px}
        .footer-links a{color:var(--gray);text-decoration:none;margin:0 15px;transition:color .3s ease}
        .footer-links a:hover{color:var(--primary)}
        @media(max-width:768px){.logo{font-size:2rem}.glass-card{padding:25px}.download-options{grid-template-columns:1fr}.features{grid-template-columns:1fr}}
        .toast{position:fixed;top:20px;right:20px;background:var(--glass);backdrop-filter:blur(10px);border:1px solid var(--glass-bd);border-radius:10px;padding:15px 20px;color:#fff;display:none;align-items:center;gap:10px;z-index:1000;animation:slideIn .3s ease}
        @keyframes slideIn{from{transform:translateX(100%)}to{transform:translateX(0)}}
        .toast.success{border-color:#00ff88}
        .toast.error{border-color:#ff0050}
    </style>
</head>
<body>
    <div class="bg-animation"></div>
    <header>
        <div class="logo">CikoTokSave</div>
        <p class="tagline">Download TikTok Videos Without Watermark</p>
    </header>

    <div class="container">
        <div class="glass-card">
            <div class="input-section">
                <h2 style="font-size:1.8rem;margin-bottom:20px;font-weight:600"><i class="fab fa-tiktok" style="color:var(--primary)"></i> TikTok Video Downloader</h2>
                <p style="color:var(--gray);margin-bottom:30px">Paste your TikTok URL below and download videos in HD quality without watermark</p>
                <div class="input-wrapper">
                    <input type="text" id="url" class="url-input" placeholder="https://www.tiktok.com/@username/video/1234567890">
                    <button class="paste-btn" onclick="pasteURL()"><i class="fas fa-paste"></i> Paste</button>
                </div>
                <button id="downloadBtn" class="download-btn" onclick="downloadVideo()"><i class="fas fa-download"></i> Download Video</button>
            </div>

            <div id="loading" class="loading">
                <div class="loading-spinner"></div>
                <p>Processing your video...</p>
            </div>

            <div id="result" class="result">
                <div class="video-preview">
                    <img id="thumb" class="video-thumb" src="" alt="Video Thumbnail">
                    <h3 id="title" class="video-title"></h3>
                </div>
                <div class="download-options">
                    <a href="#" id="hdBtn" class="option-btn hd-btn" onclick="grabAndDownload(this.href,'hd');return false"><i class="fas fa-hd"></i> Download HD</a>
                    <a href="#" id="sdBtn" class="option-btn sd-btn" onclick="grabAndDownload(this.href,'sd');return false"><i class="fas fa-play"></i> Download SD</a>
                    <a href="#" id="mp3Btn" class="option-btn mp3-btn" onclick="grabAndDownload(this.href,'mp3');return false"><i class="fas fa-music"></i> Download MP3</a>
                </div>
            </div>
        </div>

        <div class="features">
            <div class="feature-card"><div class="feature-icon"><i class="fas fa-ban"></i></div><h3 class="feature-title">No Watermark</h3><p class="feature-desc">Download videos clean without any TikTok watermark</p></div>
            <div class="feature-card"><div class="feature-icon"><i class="fas fa-bolt"></i></div><h3 class="feature-title">Fast Download</h3><p class="feature-desc">High-speed servers for instant video downloads</p></div>
            <div class="feature-card"><div class="feature-icon"><i class="fas fa-mobile-alt"></i></div><h3 class="feature-title">Mobile Friendly</h3><p class="feature-desc">Works perfectly on all devices and screen sizes</p></div>
            <div class="feature-card"><div class="feature-icon"><i class="fas fa-shield-alt"></i></div><h3 class="feature-title">100% Safe</h3><p class="feature-desc">No registration required, completely anonymous</p></div>
        </div>
    </div>

    <footer>
        <div class="footer-links">
            <a href="#">Privacy Policy</a>
            <a href="#">Terms of Service</a>
            <a href="#">Contact</a>
            <a href="#">API</a>
        </div>
        <p style="color:var(--gray);font-size:.9rem">&copy; 2024 CikoTokSave. All rights reserved. Not affiliated with TikTok.</p>
    </footer>

    <div id="toast" class="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toastMessage"></span>
    </div>

    <script>
        /* ---------- utils ---------- */
        async function pasteURL() {
            try {
                const text = await navigator.clipboard.readText();
                document.getElementById('url').value = text;
                showToast('URL pasted!', 'success');
            } catch {
                showToast('Allow paste permission first', 'error');
            }
        }
        function showToast(msg, type = 'success') {
            const toast = document.getElementById('toast');
            const span = document.getElementById('toastMessage');
            const icon = toast.querySelector('i');
            span.textContent = msg;
            toast.className = `toast ${type}`;
            icon.className = type === 'success' ? 'fas fa-check-circle' : 'fas fa-exclamation-circle';
            toast.style.display = 'flex';
            setTimeout(() => toast.style.display = 'none', 3000);
        }

        /* ---------- download helper ---------- */
        function grabAndDownload(url, type) {
            if (!url || url === '#') { showToast('Link not ready', 'error'); return; }
            const ext = type === 'mp3' ? 'mp3' : 'mp4';
            const name = `tiktok_${type}_${Date.now()}.${ext}`;
            const a = document.createElement('a');
            a.href = url;
            a.download = name;
            a.style.display = 'none';
            document.body.appendChild(a);
            a.click();
            a.remove();
            showToast('Download started', 'success');
        }

        /* ---------- main logic (nvidiabotz) ---------- */
        async function downloadVideo() {
            const url = document.getElementById('url').value.trim();
            const btn = document.getElementById('downloadBtn');
            const loading = document.getElementById('loading');
            const result = document.getElementById('result');

            if (!url || !url.includes('tiktok.com')) {
                showToast('Masukkan link TikTok yang valid', 'error');
                return;
            }

            btn.disabled = true;
            loading.style.display = 'block';
            result.style.display = 'none';

            try {
                const res = await fetch(`https://api.nvidiabotz.xyz/download/tiktok?url=${encodeURIComponent(url)}`);
                const data = await res.json();
                if (!data.status) throw new Error(data.message || 'Gagal ambil video');

                document.getElementById('thumb').src = data.result.thumbnail;
                document.getElementById('title').textContent = data.result.title;

                document.getElementById('hdBtn').href = data.result.video_hd;
                document.getElementById('sdBtn').href = data.result.video_sd;
                document.getElementById('mp3Btn').href = data.result.mp3;

                result.style.display = 'block';
                showToast('Video siap di-download!', 'success');
            } catch (e) {
                showToast(e.message || 'Fetch gagal / CORS blok', 'error');
            } finally {
                btn.disabled = false;
                loading.style.display = 'none';
            }
        }

        /* ---------- shortcuts ---------- */
        document.getElementById('url').addEventListener('keypress', e => {
            if (e.key === 'Enter') downloadVideo();
        });
        window.addEventListener('load', async () => {
            try {
                const text = await navigator.clipboard.readText();
                if (text.includes('tiktok.com')) {
                    document.getElementById('url').value = text;
                    showToast('TikTok URL auto-pasted!', 'success');
                }
            } catch { /* silent */ }
        });
    </script>
</body>
</html>
